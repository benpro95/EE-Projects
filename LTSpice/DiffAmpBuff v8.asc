Version 4
SHEET 1 4916 1540
WIRE -272 16 -272 -16
WIRE -272 144 -272 96
WIRE 208 144 -272 144
WIRE 400 144 208 144
WIRE 480 144 400 144
WIRE 672 144 480 144
WIRE 752 144 672 144
WIRE 944 144 752 144
WIRE 1424 144 944 144
WIRE -272 192 -272 144
WIRE 1424 192 1424 144
WIRE -384 240 -480 240
WIRE -336 240 -384 240
WIRE 208 240 208 144
WIRE 944 240 944 144
WIRE 1504 240 1488 240
WIRE 1632 240 1504 240
WIRE 480 256 480 144
WIRE 672 256 672 144
WIRE -272 336 -272 288
WIRE -192 336 -272 336
WIRE -64 336 -112 336
WIRE 1264 336 1216 336
WIRE 1424 336 1424 288
WIRE 1424 336 1344 336
WIRE 208 384 208 320
WIRE 208 384 48 384
WIRE 944 384 944 320
WIRE 1104 384 944 384
WIRE -480 400 -480 240
WIRE 1632 400 1632 240
WIRE 48 448 48 384
WIRE 208 448 208 384
WIRE 944 448 944 384
WIRE 1104 448 1104 384
WIRE -64 496 -64 336
WIRE -16 496 -64 496
WIRE 480 496 480 336
WIRE 480 496 272 496
WIRE 880 496 480 496
WIRE 1216 496 1216 336
WIRE 1216 496 1168 496
WIRE -64 560 -64 496
WIRE -64 560 -176 560
WIRE 1216 560 1216 496
WIRE 1312 560 1216 560
WIRE 1424 560 1424 336
WIRE -176 576 -176 560
WIRE -64 576 -64 560
WIRE 48 576 48 544
WIRE 1104 576 1104 544
WIRE 1104 576 48 576
WIRE 1216 576 1216 560
WIRE 1312 576 1312 560
WIRE -272 592 -272 336
WIRE -272 592 -592 592
WIRE -272 608 -272 592
WIRE 1424 608 1424 560
WIRE 1664 608 1424 608
WIRE -272 672 -272 608
WIRE -176 672 -176 640
WIRE -64 672 -64 656
WIRE -64 672 -176 672
WIRE 1216 672 1216 656
WIRE 1312 672 1312 640
WIRE 1312 672 1216 672
WIRE 1424 672 1424 608
WIRE -128 720 -208 720
WIRE 1280 720 -128 720
WIRE 1360 720 1280 720
WIRE 400 752 400 144
WIRE 752 752 752 144
WIRE 208 800 208 544
WIRE 336 800 208 800
WIRE 944 800 944 544
WIRE 944 800 816 800
WIRE -368 912 -528 912
WIRE -352 912 -368 912
WIRE -64 912 -64 672
WIRE -64 912 -352 912
WIRE 400 912 400 848
WIRE 400 912 -64 912
WIRE 752 912 752 848
WIRE 1216 912 1216 672
WIRE 1216 912 752 912
WIRE 1488 912 1216 912
WIRE 1536 912 1488 912
WIRE 1728 912 1536 912
WIRE -272 960 -272 768
WIRE -64 960 -64 912
WIRE 48 960 48 576
WIRE 208 960 208 800
WIRE 400 960 400 912
WIRE 752 960 752 912
WIRE 944 960 944 800
WIRE 1216 960 1216 912
WIRE 1280 960 1280 720
WIRE 1424 960 1424 768
WIRE -128 1008 -128 720
WIRE -528 1024 -528 992
WIRE 1728 1024 1728 992
WIRE -64 1088 -64 1040
WIRE 800 1088 -64 1088
WIRE 1216 1088 1216 1040
WIRE 1216 1088 800 1088
WIRE 1280 1104 1280 1040
WIRE -272 1152 -272 1040
WIRE -128 1152 -128 1072
WIRE -128 1152 -272 1152
WIRE 48 1152 48 1040
WIRE 48 1152 -128 1152
WIRE 208 1152 208 1040
WIRE 208 1152 48 1152
WIRE 400 1152 400 1040
WIRE 400 1152 208 1152
WIRE 576 1152 400 1152
WIRE 752 1152 752 1040
WIRE 752 1152 576 1152
WIRE 944 1152 944 1040
WIRE 944 1152 752 1152
WIRE 1424 1152 1424 1040
WIRE 1424 1152 944 1152
WIRE -272 1216 -272 1152
WIRE 352 1232 352 1216
WIRE 352 1232 208 1232
WIRE 208 1248 208 1232
WIRE 352 1248 352 1232
WIRE 576 1248 576 1152
WIRE 672 1248 672 336
WIRE 688 1248 672 1248
WIRE 800 1248 800 1088
WIRE 800 1248 752 1248
WIRE 1840 1296 1840 1200
WIRE 480 1312 480 496
WIRE 672 1312 672 1248
WIRE 1584 1312 1584 1216
WIRE -272 1328 -272 1296
WIRE 1840 1344 1840 1296
WIRE 208 1360 208 1328
WIRE 352 1360 352 1328
WIRE 352 1360 208 1360
WIRE 416 1360 352 1360
WIRE 800 1360 800 1248
WIRE 800 1360 736 1360
WIRE 1584 1360 1584 1312
WIRE 1792 1360 1696 1360
WIRE 1488 1376 1488 912
WIRE 1536 1376 1488 1376
WIRE 1664 1408 1664 608
WIRE 1792 1408 1664 1408
WIRE 480 1424 480 1408
WIRE 576 1424 576 1328
WIRE 576 1424 480 1424
WIRE 672 1424 672 1408
WIRE 672 1424 576 1424
WIRE 1536 1424 1488 1424
WIRE 1840 1440 1840 1424
WIRE 1584 1456 1584 1440
WIRE -592 1504 -592 592
WIRE 1696 1504 1696 1360
WIRE 1696 1504 -592 1504
WIRE -368 1536 -368 912
WIRE 1488 1536 1488 1424
WIRE 1488 1536 -368 1536
FLAG 1280 1104 0
FLAG 1632 480 0
FLAG -480 480 0
FLAG -384 240 in+
FLAG 1504 240 in-
FLAG -352 912 out+
FLAG 1536 912 out-
FLAG 1584 1456 0
FLAG 1584 1312 out
FLAG -272 1328 0
FLAG -272 -16 0
FLAG 352 1216 0
FLAG 1728 1024 0
FLAG -528 1024 0
FLAG -272 608 buff+
FLAG 1424 560 buff-
FLAG 1840 1440 0
FLAG 1840 1296 buff
SYMBOL npn 816 752 M0
SYMATTR InstName Q13
SYMATTR Value BC547C
SYMBOL res 384 944 R0
SYMATTR InstName R20
SYMATTR Value 1k
SYMBOL res 736 944 R0
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL npn 336 752 R0
SYMATTR InstName Q14
SYMATTR Value BC547C
SYMBOL pnp 272 544 R180
SYMATTR InstName Q15
SYMATTR Value BC557C
SYMBOL pnp 880 544 M180
SYMATTR InstName Q16
SYMATTR Value BC557C
SYMBOL res 192 944 R0
SYMATTR InstName R22
SYMATTR Value 100k
SYMBOL res 928 944 R0
SYMATTR InstName R23
SYMATTR Value 100k
SYMBOL npn 1168 448 M0
SYMATTR InstName Q17
SYMATTR Value BC547C
SYMBOL npn -16 448 R0
SYMATTR InstName Q18
SYMATTR Value BC547C
SYMBOL res 192 224 R0
SYMATTR InstName R24
SYMATTR Value 2.2k
SYMBOL res 928 224 R0
SYMATTR InstName R25
SYMATTR Value 2.2k
SYMBOL res 32 944 R0
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL res -96 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value {Ra}
SYMBOL res 1360 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R28
SYMATTR Value {Ra}
SYMBOL res 1232 672 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R29
SYMATTR Value {Rf}
SYMBOL res -48 672 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R30
SYMATTR Value {Rf}
SYMBOL npn -336 192 R0
SYMATTR InstName Q19
SYMATTR Value BC547C
SYMBOL npn 1488 192 M0
SYMATTR InstName Q20
SYMATTR Value BC547C
SYMBOL npn -208 672 M0
SYMATTR InstName Q21
SYMATTR Value BC547C
SYMBOL res -288 944 R0
SYMATTR InstName R31
SYMATTR Value 150
SYMBOL npn 1360 672 R0
SYMATTR InstName Q22
SYMATTR Value BC547C
SYMBOL res 1408 944 R0
SYMATTR InstName R32
SYMATTR Value 150
SYMBOL LED -112 1008 M0
WINDOW 0 -21 65 Left 2
WINDOW 3 -130 101 Left 2
SYMATTR InstName D2
SYMATTR Value NSPW500BS
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 1264 944 R0
SYMATTR InstName R33
SYMATTR Value 8200
SYMBOL voltage 1632 384 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V2
SYMATTR Value SINE(0 {Vin} {freq})
SYMBOL voltage -480 384 R0
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V3
SYMATTR Value SINE(0 {Vin} {freq} 0 0 180)
SYMBOL cap -192 576 R0
SYMATTR InstName C5
SYMATTR Value 5p
SYMBOL cap 1296 576 R0
SYMATTR InstName C6
SYMATTR Value 5p
SYMBOL res -80 944 R0
SYMATTR InstName R34
SYMATTR Value 1meg
SYMBOL res 1200 944 R0
WINDOW 0 -60 55 Left 2
WINDOW 3 -67 89 Left 2
SYMATTR InstName R35
SYMATTR Value 1meg
SYMBOL e 1584 1344 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL voltage -272 112 R180
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V1
SYMATTR Value 24
SYMBOL voltage -272 1312 R180
WINDOW 123 0 0 Left 2
WINDOW 39 24 44 Left 2
SYMATTR SpiceLine Rser=0
SYMATTR InstName V4
SYMATTR Value 24
SYMBOL npn 416 1312 R0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL npn 736 1312 M0
SYMATTR InstName Q2
SYMATTR Value BC547C
SYMBOL res 560 1232 R0
SYMATTR InstName R1
SYMATTR Value 12k
SYMBOL res 656 240 R0
SYMATTR InstName R2
SYMATTR Value 3.9k
SYMBOL res 464 240 R0
SYMATTR InstName R3
SYMATTR Value 3.9k
SYMBOL cap 752 1232 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 368 1344 R180
WINDOW 0 -37 81 Left 2
WINDOW 3 -58 53 Left 2
SYMATTR InstName R4
SYMATTR Value 1meg
SYMBOL res 1712 896 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res -544 896 R0
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL res 192 1232 R0
SYMATTR InstName R10
SYMATTR Value 1meg
SYMBOL e 1840 1328 R0
SYMATTR InstName E2
SYMATTR Value 1
TEXT -1088 280 Left 2 !;turn off compression and use double precision\n.options plotwinsize=0\n.options numdgt=8
TEXT -1096 1112 Left 2 !;SINUS INPUT\n.param Vin 0.25
TEXT -1096 728 Left 2 !;TRANSCIENT\n.tran 0 {50/freq} {1/freq} {timestep}\n.param prb 0\n;\n;FREQUENCY AND TIMESTEP\n.param freq 20k\n.param num_fft_pts 1000\n.param timestep {1/{ {freq} * {num_fft_pts}}}
TEXT -1088 592 Left 2 !.param Ra 1k\n.param Rb 500\n.param Rf 1k
TEXT -1096 968 Left 2 !.four {freq} 10 20 V(buff)\n.four {freq} 10 20 V(buff+)\n.four {freq} 10 20 V(out)\n.four {freq} 10 20 V(out+)
TEXT -968 176 Left 2 !.param temp 25
